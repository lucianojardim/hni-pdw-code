@model PDWModels.Dealers.DealerInformation
@{
	ViewBag.Title = "AddDealer";
	Layout = "~/Views/Shared/_Layout.cshtml";
}
@using ProductDataWarehouse.Controllers
@using ProductDataWarehouse.Models

@if( ViewBag.CloseFancyBox ?? false )
{
    <script type="text/javascript">
    	$(document).ready(function () {
    		parent.$.fancybox.close();
    		if (parent.loadDealers) {
    			parent.loadDealers();
    		}
    	});
    </script>
}
else
{
    <script src="@Url.Content( "~/Content/tiny_mce/tiny_mce.js" )" type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ready(function () {
        	makeTextAreaTinyMCE('MainContent', 'submitBtn');
        });

        function makeTextAreaTinyMCE(elementName, submitBtn) {
        	tinyMCE.init({
        		theme: "advanced",
        		plugins: "autolink,lists,spellchecker,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template",
        		theme_advanced_buttons1: "save,newdocument,|,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect,fontselect,fontsizeselect",
        		theme_advanced_buttons2: "cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,insertdate,inserttime,preview,|,forecolor,backcolor",
        		theme_advanced_buttons3: "tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,emotions,iespell,media,advhr,|,print,|,ltr,rtl,|,fullscreen",
        		theme_advanced_buttons4: "insertlayer,moveforward,movebackward,absolute,|,styleprops,spellchecker,|,cite,abbr,acronym,del,ins,attribs,|,visualchars,nonbreaking,template,blockquote,pagebreak,|,insertfile,insertimage",
        		theme_advanced_toolbar_location: "top",
        		theme_advanced_toolbar_align: "left",
        		theme_advanced_statusbar_location: "bottom",
        		theme_advanced_resizing: true,
        		encoding: "xml",
        		mode: "exact",
        		elements: elementName,
        		width: "640",
        		height: "480",
        		setup: function (ed) {
        			ed.onSaveContent.add(function (i, o) {
        				o.content = o.content.replace(/&#39/g, "&apos");
        			});
        		}
        	});

        	$('#' + submitBtn).click(function () {
        		tinyMCE.triggerSave();
        	});
        }

    </script>    
}
    <h2>Add Dealer</h2>

    @using( Html.BeginForm( "AddDealer", "Import", FormMethod.Post, new { id = "theForm", name = "TheForm", enctype = "multipart/form-data" } ) )
	{
		@Html.AntiForgeryToken()
        <span class="dataRow">@Html.MJLabelFor( m => m.Name, true )@Html.TextBoxFor( m => m.Name )<br /></span>
        <span class="dataRow">@Html.MJLabelFor( m => m.URL, true )my.paoli.com/Dealer/@Html.TextBoxFor( m => m.URL )<br /></span>
        <span class="dataRow">@Html.MJLabelFor( m => m.FeaturedVideo, true )@Html.DropDownListFor( m => m.FeaturedVideo, ImportController.GetVideoDDList() )<br /></span>
        <span class="dataRow">@Html.MJLabelFor( m => m.ProductHeadline, true )@Html.TextBoxFor( m => m.ProductHeadline )<br /></span>
        <span class="dataRow">@Html.MJLabelFor( m => m.PageHeadline, true )@Html.TextBoxFor( m => m.PageHeadline )<br /></span>
        <span class="dataRow">@Html.MJLabelFor( m => m.VideoHeadline, true )@Html.TextBoxFor( m => m.VideoHeadline )<br /></span>
        @Html.MJLabelFor( m => m.MainContent, true )@Html.TextAreaFor( m => m.MainContent )
		<p class="divider_line mart30"></p>
		<div>
			<label style="vertical-align:top">Product Listing:</label>
			<div style="display:inline-block;overflow-y:scroll;width:75%;height:100px;">
			@foreach( var seriesItem in ImportController.GetSeriesDDList( false ) )
   {
				<input type="checkbox" id="ProductList" name="ProductList" value="@seriesItem.Value"/><text>&nbsp;</text>@seriesItem.Text<br />
   }
			</div>
		</div>
		<p class="divider_line mart30"></p>
		<div>
			<label style="vertical-align:top">Page Listing:</label>
			<div style="display:inline-block;overflow-y:scroll;width:75%;height:100px;">
			@foreach( var pageItem in ImportController.GetPageDDList() )
   {
				<input type="checkbox" id="PageList" name="PageList" value="@pageItem.Value"/><text>&nbsp;</text>@pageItem.Text<br />
   }
			</div>
		</div>
		<p class="divider_line mart30"></p>
		<div>
			<label style="vertical-align:top">Video Listing:</label>
			<div style="display:inline-block;overflow-y:scroll;width:75%;height:100px;">
			@foreach( var videoItem in ImportController.GetVideoDDList() )
   {
				<input type="checkbox" id="VideoList" name="VideoList" value="@videoItem.Value"/><text>&nbsp;</text>@videoItem.Text<br />
   }
			</div>
		</div>
		<br />
@Html.ValidationSummary()
        <input type="submit" class="btn_type1" value="Add" id="submitBtn" />
	}
